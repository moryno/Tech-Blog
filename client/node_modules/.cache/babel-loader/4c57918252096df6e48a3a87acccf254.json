{"ast":null,"code":"import _regeneratorRuntime from\"/home/moryno/Development/Project/phase-2/tech-blog/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/moryno/Development/Project/phase-2/tech-blog/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _taggedTemplateLiteral from\"/home/moryno/Development/Project/phase-2/tech-blog/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8;import{useContext,useRef}from\"react\";import styled from\"styled-components\";import userApi from\"../apis\";import{UserContext}from\"../context/Context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100vw;\\n  height: 100vh;\\n  background: linear-gradient(\\n      rgba(255, 255, 255, 0.5),\\n      rgba(255, 255, 255, 0.5)\\n    ),\\n    url(\\\"https://media.bostonproper.com/i/bostonproper/756-d2-home-feature-01-desktop?fmt=auto\\\")\\n      center;\\n  background-size: cover;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n\"])));var Wrapper=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  width: 25%;\\n  padding: 1.25rem;\\n  background-color: white;\\n\"])));var Title=styled.h1(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  font-size: 1.5rem;\\n  font-weight: 300;\\n\"])));var Form=styled.form(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n\"])));var Input=styled.input(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  min-width: 40%;\\n  margin: 0.625rem 0;\\n  padding: 0.625rem;\\n\"])));var Button=styled.button(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  width: 40%;\\n  background-color: teal;\\n  color: white;\\n  padding: 15px 1.25rem;\\n  cursor: pointer;\\n  border: none;\\n  margin-bottom: 0.625rem;\\n  &:disabled {\\n    cursor: not-allowed;\\n    color: green;\\n  }\\n\"])));var Link=styled.a(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  margin: 5px 0;\\n  font-size: 0.75rem;\\n  text-decoration: underline;\\n  cursor: pointer;\\n\"])));var Error=styled.span(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  color: red;\\n\"])));export var Login=function Login(){var userRef=useRef();var passwordRef=useRef();var _useContext=useContext(UserContext),user=_useContext.user,errors=_useContext.errors,dispatch=_useContext.dispatch,isFetching=_useContext.isFetching;var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _yield$userApi$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();dispatch({type:\"LOGIN_START\"});_context.prev=2;_context.next=5;return userApi.post(\"/users\",{username:userRef.current.value,password:passwordRef.current.value});case 5:_yield$userApi$post=_context.sent;data=_yield$userApi$post.data;dispatch({type:\"LOGIN_SUCCESS\",payload:data});_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);dispatch(\"LOGIN_FAILURE\");case 13:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(Title,{children:\"SIGN IN\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Input,{placeholder:\"Username\",name:\"username\",ref:userRef}),/*#__PURE__*/_jsx(Input,{placeholder:\"Password\",type:\"password\",ref:passwordRef}),/*#__PURE__*/_jsx(Button,{disabled:isFetching,children:\"LOGIN\"}),errors&&/*#__PURE__*/_jsx(Error,{children:\"Something went wrong\"}),/*#__PURE__*/_jsx(Link,{children:\"DO NOT REMEMBER PASSWORD?\"}),/*#__PURE__*/_jsx(Link,{children:\"CREATE A NEW ACCOUNT\"})]})]})});};","map":{"version":3,"names":["useContext","useRef","styled","userApi","UserContext","Container","div","Wrapper","Title","h1","Form","form","Input","input","Button","button","Link","a","Error","span","Login","userRef","passwordRef","user","errors","dispatch","isFetching","handleSubmit","event","preventDefault","type","post","username","current","value","password","data","payload"],"sources":["/home/moryno/Development/Project/phase-2/tech-blog/client/src/pages/Login.js"],"sourcesContent":["import { useContext, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport userApi from \"../apis\";\nimport { UserContext } from \"../context/Context\";\n\nconst Container = styled.div`\n  width: 100vw;\n  height: 100vh;\n  background: linear-gradient(\n      rgba(255, 255, 255, 0.5),\n      rgba(255, 255, 255, 0.5)\n    ),\n    url(\"https://media.bostonproper.com/i/bostonproper/756-d2-home-feature-01-desktop?fmt=auto\")\n      center;\n  background-size: cover;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Wrapper = styled.div`\n  width: 25%;\n  padding: 1.25rem;\n  background-color: white;\n`;\n\nconst Title = styled.h1`\n  font-size: 1.5rem;\n  font-weight: 300;\n`;\n\nconst Form = styled.form`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Input = styled.input`\n  flex: 1;\n  min-width: 40%;\n  margin: 0.625rem 0;\n  padding: 0.625rem;\n`;\n\nconst Button = styled.button`\n  width: 40%;\n  background-color: teal;\n  color: white;\n  padding: 15px 1.25rem;\n  cursor: pointer;\n  border: none;\n  margin-bottom: 0.625rem;\n  &:disabled {\n    cursor: not-allowed;\n    color: green;\n  }\n`;\n\nconst Link = styled.a`\n  margin: 5px 0;\n  font-size: 0.75rem;\n  text-decoration: underline;\n  cursor: pointer;\n`;\n\nconst Error = styled.span`\n  color: red;\n`;\n\nexport const Login = () => {\n  const userRef = useRef();\n  const passwordRef = useRef();\n\n  const { user, errors, dispatch, isFetching } = useContext(UserContext);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    dispatch({ type: \"LOGIN_START\" });\n    try {\n      const { data } = await userApi.post(`/users`, {\n        username: userRef.current.value,\n        password: passwordRef.current.value,\n      });\n      dispatch({ type: \"LOGIN_SUCCESS\", payload: data });\n    } catch (error) {\n      dispatch(\"LOGIN_FAILURE\");\n    }\n  };\n\n  return (\n    <Container>\n      <Wrapper>\n        <Title>SIGN IN</Title>\n        <Form onSubmit={handleSubmit}>\n          <Input placeholder=\"Username\" name=\"username\" ref={userRef} />\n          <Input placeholder=\"Password\" type=\"password\" ref={passwordRef} />\n          <Button disabled={isFetching}>LOGIN</Button>\n          {errors && <Error>Something went wrong</Error>}\n          <Link>DO NOT REMEMBER PASSWORD?</Link>\n          <Link>CREATE A NEW ACCOUNT</Link>\n        </Form>\n      </Wrapper>\n    </Container>\n  );\n};\n"],"mappings":"wlBAAA,OAASA,UAAT,CAAqBC,MAArB,KAAmC,OAAnC,CACA,MAAOC,OAAP,KAAmB,mBAAnB,CACA,MAAOC,QAAP,KAAoB,SAApB,CACA,OAASC,WAAT,KAA4B,oBAA5B,C,wFAEA,GAAMC,UAAS,CAAGH,MAAM,CAACI,GAAV,maAAf,CAeA,GAAMC,QAAO,CAAGL,MAAM,CAACI,GAAV,qIAAb,CAMA,GAAME,MAAK,CAAGN,MAAM,CAACO,EAAV,gHAAX,CAKA,GAAMC,KAAI,CAAGR,MAAM,CAACS,IAAV,kHAAV,CAKA,GAAMC,MAAK,CAAGV,MAAM,CAACW,KAAV,iJAAX,CAOA,GAAMC,OAAM,CAAGZ,MAAM,CAACa,MAAV,6RAAZ,CAcA,GAAMC,KAAI,CAAGd,MAAM,CAACe,CAAV,iKAAV,CAOA,GAAMC,MAAK,CAAGhB,MAAM,CAACiB,IAAV,oFAAX,CAIA,MAAO,IAAMC,MAAK,CAAG,QAARA,MAAQ,EAAM,CACzB,GAAMC,QAAO,CAAGpB,MAAM,EAAtB,CACA,GAAMqB,YAAW,CAAGrB,MAAM,EAA1B,CAEA,gBAA+CD,UAAU,CAACI,WAAD,CAAzD,CAAQmB,IAAR,aAAQA,IAAR,CAAcC,MAAd,aAAcA,MAAd,CAAsBC,QAAtB,aAAsBA,QAAtB,CAAgCC,UAAhC,aAAgCA,UAAhC,CAEA,GAAMC,aAAY,4FAAG,iBAAOC,KAAP,iJACnBA,KAAK,CAACC,cAAN,GACAJ,QAAQ,CAAC,CAAEK,IAAI,CAAE,aAAR,CAAD,CAAR,CAFmB,sCAIM3B,QAAO,CAAC4B,IAAR,UAAuB,CAC5CC,QAAQ,CAAEX,OAAO,CAACY,OAAR,CAAgBC,KADkB,CAE5CC,QAAQ,CAAEb,WAAW,CAACW,OAAZ,CAAoBC,KAFc,CAAvB,CAJN,0CAITE,IAJS,qBAITA,IAJS,CAQjBX,QAAQ,CAAC,CAAEK,IAAI,CAAE,eAAR,CAAyBO,OAAO,CAAED,IAAlC,CAAD,CAAR,CARiB,iFAUjBX,QAAQ,CAAC,eAAD,CAAR,CAViB,qEAAH,kBAAZE,aAAY,4CAAlB,CAcA,mBACE,KAAC,SAAD,wBACE,MAAC,OAAD,yBACE,KAAC,KAAD,sBADF,cAEE,MAAC,IAAD,EAAM,QAAQ,CAAEA,YAAhB,wBACE,KAAC,KAAD,EAAO,WAAW,CAAC,UAAnB,CAA8B,IAAI,CAAC,UAAnC,CAA8C,GAAG,CAAEN,OAAnD,EADF,cAEE,KAAC,KAAD,EAAO,WAAW,CAAC,UAAnB,CAA8B,IAAI,CAAC,UAAnC,CAA8C,GAAG,CAAEC,WAAnD,EAFF,cAGE,KAAC,MAAD,EAAQ,QAAQ,CAAEI,UAAlB,mBAHF,CAIGF,MAAM,eAAI,KAAC,KAAD,mCAJb,cAKE,KAAC,IAAD,wCALF,cAME,KAAC,IAAD,mCANF,GAFF,GADF,EADF,CAeD,CAnCM"},"metadata":{},"sourceType":"module"}